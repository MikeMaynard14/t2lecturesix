{"ast":null,"code":"var _jsxFileName = \"/Users/mikemaynard/Desktop/Open Window/DevEnv/lecturefiveprep/src/Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport PostItem from './components/PostItem';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const userSession = sessionStorage.getItem('activeUser');\n\n  if (userSession === '' || userSession === undefined) {\n    navigate('/');\n  }\n\n  const [userId, setUserId] = useState({\n    activeUser: sessionStorage.getItem('activeUser')\n  });\n  const [posts, setPosts] = useState();\n  const [postMessage, setPostMessage] = useState({\n    message: '',\n    user: sessionStorage.getItem('activeUser')\n  });\n  const [renderPost, setRenderPost] = useState();\n  useEffect(() => {\n    axios.post('http://localhost:8888/api/readUserPosts.php', userId).then(res => {\n      let data = res.data;\n      let renderPost = data.map(item => /*#__PURE__*/_jsxDEV(PostItem, {\n        userpost: item.userpost,\n        date: item.timestamp,\n        message: item.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 46\n      }, this));\n      setPosts(renderPost);\n      setRenderPost(false);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [renderPost]);\n\n  const postVal = e => {\n    let messageVal = e.target.value;\n    setPostMessage({ ...postMessage,\n      message: messageVal\n    });\n  };\n\n  const addNewPost = e => {\n    e.preventDefault();\n    document.getElementById('textMes').value = \"\";\n    axios.post('http://localhost:8888/api/addPost.php', postMessage).then(res => {\n      let data = res.data;\n      console.log(data);\n      setRenderPost(true);\n    });\n  };\n\n  const setLogout = () => {\n    sessionStorage.setItem('activeUser', '');\n    navigate('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dash\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Your Timeline\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      onClick: setLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Lets create a library of cringe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"posts\",\n      children: posts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Add New Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"textMes\",\n          placeholder: \"New Post Message\",\n          onChange: postVal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          value: \"reset\",\n          onClick: addNewPost,\n          children: \"Add Post To Timeline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Dashboard, \"erSk6Vmc258qGemnAcLbDMh0udo=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","axios","useState","useEffect","PostItem","useNavigate","Dashboard","navigate","userSession","sessionStorage","getItem","undefined","userId","setUserId","activeUser","posts","setPosts","postMessage","setPostMessage","message","user","renderPost","setRenderPost","post","then","res","data","map","item","userpost","timestamp","catch","err","console","log","postVal","e","messageVal","target","value","addNewPost","preventDefault","document","getElementById","setLogout","setItem"],"sources":["/Users/mikemaynard/Desktop/Open Window/DevEnv/lecturefiveprep/src/Dashboard.js"],"sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { useState, useEffect } from 'react'\nimport PostItem from './components/PostItem'\nimport { useNavigate } from 'react-router-dom'\n\n\nconst Dashboard = () => {\n\n  const navigate = useNavigate();\n\n    const userSession = sessionStorage.getItem('activeUser');\n\n    if(userSession === '' || userSession === undefined){\n      navigate('/');\n    }\n\n    const [userId, setUserId] = useState({\n        activeUser: sessionStorage.getItem('activeUser'),\n    });\n\n    const [posts, setPosts] = useState();\n    const [postMessage, setPostMessage] = useState({\n      message: '', \n      user: sessionStorage.getItem('activeUser'),\n    });\n\n    const [renderPost, setRenderPost] = useState();\n\n  \n    useEffect(()=>{\n\n      axios.post('http://localhost:8888/api/readUserPosts.php', userId)\n      .then((res)=>{\n        let data = res.data;\n        let renderPost = data.map((item) =>  <PostItem userpost={item.userpost} date={item.timestamp} message={item.message}  />);\n\n        setPosts(renderPost);\n        setRenderPost(false);\n        \n      })\n      .catch(err=>{\n        console.log(err);\n      });\n\n   },[renderPost]);\n\n   const postVal = (e) => {\n    let messageVal = e.target.value;\n    setPostMessage({...postMessage, message: messageVal});\n   }\n\n   const addNewPost = (e) => {\n     e.preventDefault();\n     document.getElementById('textMes').value = \"\";\n     axios.post('http://localhost:8888/api/addPost.php', postMessage)\n      .then((res)=>{\n        let data = res.data;\n        console.log(data); \n        setRenderPost(true);\n      });\n   }\n\n   const setLogout = () => {\n      sessionStorage.setItem('activeUser','');\n      navigate('/');\n   }\n\n   \n\n\n  return (\n    <div className='dash'>\n      <h1>Your Timeline</h1>\n      <p onClick={setLogout}>Logout</p>\n      <p>Lets create a library of cringe</p>\n      <div className='posts'>\n        {posts}\n      </div>\n      <div className='form'>\n        <form>\n          <p>Add New Post</p>\n            <textarea id='textMes' placeholder='New Post Message' onChange={postVal} />\n            <button type='submit'value=\"reset\" onClick={addNewPost}>Add Post To Timeline</button>\n        </form>\n      </div>\n   \n    </div>\n  )\n}\n\nexport default Dashboard\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}